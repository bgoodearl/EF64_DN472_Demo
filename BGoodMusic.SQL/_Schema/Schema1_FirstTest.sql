USE BGoodMusicLocalDev
GO

DECLARE @CurrentMigration [nvarchar](max)

IF object_id('[dbo].[__MigrationHistory]') IS NOT NULL
    SELECT @CurrentMigration =
        (SELECT TOP (1) 
        [Project1].[MigrationId] AS [MigrationId]
        FROM ( SELECT 
        [Extent1].[MigrationId] AS [MigrationId]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = N'BGoodMusic.EFDAL.Migrations.Configuration'
        )  AS [Project1]
        ORDER BY [Project1].[MigrationId] DESC)

IF @CurrentMigration IS NULL
    SET @CurrentMigration = '0'

IF @CurrentMigration < '201912261744404_Schema1'
BEGIN
    CREATE TABLE [dbo].[bgm_Rehearsals] (
        [Id] [int] NOT NULL IDENTITY,
        [Date] [datetime] NOT NULL,
        [Time] [time](7) NOT NULL,
        [Duration] [time](7),
        [Location] [nvarchar](max),
        [Agenda] [nvarchar](max),
        CONSTRAINT [PK_dbo.bgm_Rehearsals] PRIMARY KEY ([Id])
    )
    CREATE TABLE [dbo].[__MigrationHistory] (
        [MigrationId] [nvarchar](150) NOT NULL,
        [ContextKey] [nvarchar](300) NOT NULL,
        [Model] [varbinary](max) NOT NULL,
        [ProductVersion] [nvarchar](32) NOT NULL,
        CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
    )
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'201912261744404_Schema1', N'BGoodMusic.EFDAL.Migrations.Configuration',  0x1F8B0800000000000400CD58DD8EE23614BEAFD477887CD54AB3041855ED8EC2AE581856688799D164766F2B931C8255C74E6D6704AAFA64BDE823F5157A4CFE1360805D55BD41C139E73BFF9F0FFCF3D7DFDEFB4DCC9D17509A493122835E9F3820021932118D486A566F7E21EFDF7DFF9D771BC61BE74B21776DE55053E811591B93DCB8AE0ED61053DD8B59A0A4962BD30B64ECD250BAC37EFFAD3B18B8801004B11CC77B4A856131ECBEE0D78914012426A57C2143E03A3FC737FE0ED5B9A731E8840630221F3E4A192E52CD82DEED6C3ABE23CE98338A7EF8C057C4A14248430D7A79F359836F9414919FE001E5CFDB04506E45B986DCFB9B4AFCD440FA431B885B29165041AA8D8CCF041C5CE79971DBEA17E5979499C3DCDD628ECDD646BDCBDF883CC11AA8D29413A76DED66C295956CE4372B46AF54BB723A2FAFCA9EC0D6E90DDEF6F16338FCA97FE54C526E52052301A95156F7315D72167C82EDB3FC0DC448A49CD7DD4587F15DE3008F1E954C4099ED13ACF220E62171DCA69EDB562CD56A3A59747361AE87C4B947E374C9A1EC865A267C23157C04018A1A081FA931A084C5805D3E3BD65BB6A6A85558B3CFCFD8E77B0C1E07C99432908B00A6A9CABBA80E725CE74E060D1D1C1E6401E22CE8E60E4464D623828FC499B10D84C549EECD67C1903450C9A8F45543E3084448BFB119CFADFABD3B05C8308632AC69EE42D5C8D3A57D071BB367289041F2B9D0B9C9665C19B60FA63D609A3895371935F56AD3B7CFEFD2C38AFCDC8CFD0A96740FD0A4B7A0498229ACD1667EE2F819674EDEF8E7D3499C61B881DEC32AA5B7A5259C1A1A41EB2D9A464F674C6983B34097D4167112C61DB17DF53890EBC26227E56DEEA82A50A8D8E776FDB35BA4569D164C95CD1906182309EC6285D29F3AAF7674775718E554ED61A489E4692C0EB1DA31ED8C63EAFAD9C9E908191FD411F631C4511F4A8669F8519E9E8E54F14E1DA93A3D1DA920963A4E71D645F1DC5661DB0DE4763AA875EFB47BF2D858B7454AEBE578B7C6D8CB47EAF595A83363990871303D2F2CB4F3E56FB581B867057AFEEF7CC219C65B092CA8602BD026BB9A09EE25C3D65EF5FFD9715CAD437EF9A23317216C46E40FE7CFFF7EFB6036E7AFEE17E75EF5B58523C467F3B50B4706F0A82060D9B6FFF357AF1FC7214FD919DACB8978A12A5853F5434C373F9E0BD65C40CE803A6FC9E8DE7D27AE0FC7B7876CBAB1D84B892164AE2EA3F8D7FAF671E186D1A51CCFADFF56F3A6A0595441D85F6E02025B980AB490998B952C128F41D63D2A445A755980A1D8C274AC0C5BD1C0E0EB00B4DEAD875F284F51E4365E4238170FA9495233D61AE2256FECE49E7BDCFE6E8D6AFAEC3D24F69BFE1621A09BCC4EE183F890321E967ECFBA637308C2B64DCE0FE815AEC708176D4BA47B294E04CAD3378504DB1DD9E519E28423987E103E7D814B7CC38DF80E221A6C8B9BE330C8EB8568A6DD9B321A291AEB1CA3D2B7FF3FB8F60F8877FF02E811EF25B2100000 , N'6.4.0')
END

